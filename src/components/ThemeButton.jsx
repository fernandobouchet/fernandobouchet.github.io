import { useState } from 'react';
import { getTheme, saveTheme } from '../utils/theme';

const ThemeButton = () => {
  const [theme, setTheme] = useState(getTheme());

  const handleOnClick = () => {
    if (theme !== 'dark') {
      setTheme('dark');
      saveTheme('dark');
    } else {
      setTheme('light');
      saveTheme('light');
    }
  };

  return (
    <>
      <button
        className="align-middle"
        aria-label="theme"
        onClick={handleOnClick}
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24"
          width="24"
          className="fill-light-fontSurface dark:fill-dark-fontSurface hover:fill-light-font dark:hover:fill-dark-font"
        >
          {theme !== 'dark' ? (
            <path d="M12 16q-1.675 0-2.837-1.163Q8 13.675 8 12q0-1.675 1.163-2.838Q10.325 8 12 8q1.675 0 2.838 1.162Q16 10.325 16 12t-1.162 2.837Q13.675 16 12 16ZM2 12.5q-.225 0-.362-.15Q1.5 12.2 1.5 12q0-.225.138-.363.137-.137.362-.137h2.5q.2 0 .35.15.15.15.15.35 0 .225-.15.363-.15.137-.35.137Zm17.5 0q-.2 0-.35-.15Q19 12.2 19 12q0-.225.15-.363.15-.137.35-.137H22q.225 0 .363.15.137.15.137.35 0 .225-.137.363-.138.137-.363.137ZM12 5q-.225 0-.363-.15-.137-.15-.137-.35V2q0-.225.15-.363.15-.137.35-.137.225 0 .363.137.137.138.137.363v2.5q0 .2-.15.35Q12.2 5 12 5Zm0 17.5q-.225 0-.363-.137-.137-.138-.137-.363v-2.5q0-.2.15-.35.15-.15.35-.15.225 0 .363.15.137.15.137.35V22q0 .225-.15.363-.15.137-.35.137ZM6.35 7.025l-1.425-1.4q-.15-.125-.15-.338 0-.212.15-.362.15-.175.35-.175.2 0 .35.175L7.05 6.35q.15.15.15.338 0 .187-.15.362t-.337.162q-.188-.012-.363-.187Zm12.025 12.05L16.95 17.65q-.15-.15-.15-.35 0-.2.15-.35.125-.175.325-.162.2.012.375.187l1.425 1.4q.15.125.15.337 0 .213-.15.363-.15.175-.35.175-.2 0-.35-.175ZM16.95 7.05q-.175-.15-.162-.338.012-.187.187-.362l1.4-1.425q.125-.15.337-.15.213 0 .363.15.175.15.175.35 0 .2-.175.35L17.65 7.05q-.15.15-.338.15-.187 0-.362-.15ZM4.925 19.075q-.175-.15-.175-.35 0-.2.175-.35L6.35 16.95q.15-.15.35-.15.2 0 .35.15.15.125.138.325-.013.2-.163.375l-1.4 1.425q-.15.175-.35.175-.2 0-.35-.175Z" />
          ) : (
            <path d="M12.05 20q-3.325 0-5.663-2.337Q4.05 15.325 4.05 12q0-3.05 1.987-5.275Q8.025 4.5 10.95 4.1h.15q.075 0 .15.025-.5.7-.8 1.563-.3.862-.3 1.812 0 2.675 1.875 4.537Q13.9 13.9 16.55 13.9q.95 0 1.813-.3.862-.3 1.562-.8 0 .075.013.15.012.075.012.175-.4 2.925-2.625 4.9Q15.1 20 12.05 20Z" />
          )}
        </svg>
      </button>
    </>
  );
};
export default ThemeButton;
